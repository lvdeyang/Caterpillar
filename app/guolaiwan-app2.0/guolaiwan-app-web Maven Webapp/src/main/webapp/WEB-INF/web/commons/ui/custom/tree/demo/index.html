<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="../css/Tetris.tree.css" />
    <style type="text/css">

    </style>
</head>
<body>
<div id="treePanel"></div>
</body>
<script type="text/javascript" src="../../../../lib/jQuery-1.12.3/jquery-v1.12.3.min.js"></script>
<script type="text/javascript" src="../../../Tetris.js"></script>
<script type="text/javascript" src="../js/Tetris.tree.js"></script>
<script type="text/javascript">
    $(function(){
        var data = [];

        for(var i=0; i<1; i++){
            data.push({
                'nodeContent':'根节点1',
                'param':'根节点',
                'icon':'',
                'type':'folder',
                'checkable':true,
                'status':'close',
                'draggable':true,
                'childrenList':[
                    {
                        'nodeContent':'叶子节点2',
                        'param':'叶子节点2',
                        'type':'file',
                        'checkable':true,
                        'icon':'',
                    },{
                        'nodeContent':'叶子节点3',
                        'param':'',
                        'type':'folder',
                        'status':'close',
                        'checkable':true,
                        'icon':'',
                        'childrenList':[
                            {
                                'nodeContent':'叶子节点4',
                                'param':'',
                                'type':'file',
                                'icon':'',
                            },{
                                'nodeContent':'叶子节点5',
                                'param':'',
                                'type':'folder',
                                'icon':'',
                                'childrenList':[
                                    {
                                        'nodeContent':'叶子节点4',
                                        'param':'',
                                        'type':'file',
                                        'icon':'',
                                    },{
                                        'nodeContent':'叶子节点5',
                                        'param':'',
                                        'type':'file',
                                        'icon':'',
                                    }
                                ]
                            }
                        ]
                    },{
                        'nodeContent':'根节点2',
                        'param':'',
                        'type':'folder',
                        'status':'close',
                        'icon':'',
                        'childrenList':[
                            {
                                'nodeContent':'叶子节点4',
                                'param':'',
                                'type':'file',
                                'icon':'',
                            },{
                                'nodeContent':'叶子节点5',
                                'param':'',
                                'type':'file',
                                'icon':'',
                            }
                        ]
                    },
                ]
            });
        }

        $('#treePanel')[window.Tetris]('tree', 'create', {
            data:data,
            event:{
                click:function(param, complete){
                    //alert('点击');
                    var $node = $(this);
                    //$node[window.Tetris]('tree', 'append');
                    $node[window.Tetris]('tree', 'set', {
                        'nodeContent':'滚犊子',
                        'param':'',
                        'type':'folder',
                        'draggable':false,
                        'checkable':false
                    });
                    //$node['Tetris.tree']('delete');
                    //$node['Tetris.tree']('set');
                    complete();
                },
                open:function(param, complete){
                    //alert('展开'+param);
                    complete();
                },
                close:function(param, complete){
                    //alert('收起'+param);
                    complete();
                },
                drag:function(param, event){
                    console.log(param);
                    alert(event.dataTransfer);
                },
                check:function(param, complete){
                    alert('选中'+param);
                    complete();
                },
                uncheck:function(param, complete){
                    alert('取消选中'+param);
                    complete();
                }
            }
        });

    });
</script>
</html>